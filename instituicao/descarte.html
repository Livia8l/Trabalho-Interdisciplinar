<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instituição Social</title>
    <link rel="stylesheet" href="../wwwroot/style/_geral.css">
    <link rel="stylesheet" href="./style/descarte.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

    <main class="width-pattern mx-auto main-content-descarte">

        <aside class="sidebar-descarte">
            <div class="user-profile">
                <i class="fas fa-user"></i>
                <span>Instituição Social</span>
            </div>
            <div class="dropdown-section">
                <div class="dropdown-header" onclick="toggleDropdown(this)">
                    <i class="fas fa-chevron-right"></i>
                    <span>Pontos Indisponíveis para descarte</span>
                </div>
                <div class="dropdown-content">
                    <label><input type="radio" name="ponto_descarte" value="319238"> 319238</label>
                    <label><input type="radio" name="ponto_descarte" value="314182"> 314182</label>
                    <label><input type="radio" name="ponto_descarte" value="315761"> 315761</label>
                </div>
            </div>
            <div class="dropdown-section">
                <div class="dropdown-header" onclick="toggleDropdown(this)">
                    <i class="fas fa-chevron-right"></i>
                    <span>Pontos Disponíveis para descarte</span>
                </div>
                <div class="dropdown-content">
                    <label><input type="radio" name="ponto_descarte" value="364752"> 364752</label>
                    <label><input type="radio" name="ponto_descarte" value="389485"> 389485</label>
                    <label><input type="radio" name="ponto_descarte" value="312875"> 312875</label>
                </div>
            </div>
            <div class="status-section">
                <i class="fas fa-check"></i>
                <span>Descarte Concluído</span>
            </div>
        </aside>
        <section class="map-container">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3740.6974051648695!2d-40.301789124761775!3d-20.354115581131698!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xb8160595555555%3A0xeab993fdd7de1f61!2sUniversidade%20Vila%20Velha%20-%20UVV!5e0!3m2!1spt-BR!2sbr!4v1749780751536!5m2!1spt-BR!2sbr"
                width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>


    </main>
    <footer>
        <div class="footer-buttons width-pattern mx-auto row space-between">
            <button class="clear-button" onclick="limpar()"><i class="fas fa-times"></i> Limpar</button>
            <button class="back-button" onclick="window.location.href = './index.html';">Voltar</button>
        </div>
    </footer>

    <!-- Modal de Descarte Concluído -->
    <div id="descarteConcluidoModal" class="modal-overlay">
        <div class="modal-content-descarte">
            <i class="fas fa-check-circle modal-icon"></i>
            <span class="modal-text">Descarte Concluído</span>
        </div>
    </div>

    <script>
        function toggleDropdown(element) {
            const dropdownContent = element.nextElementSibling;
            dropdownContent.classList.toggle('show');
            const arrowIcon = element.querySelector('i');
            if (dropdownContent.classList.contains('show')) {
                arrowIcon.style.transform = 'rotate(90deg)';
            } else {
                arrowIcon.style.transform = 'rotate(0deg)';
            }
        }

        function limpar() {
            const labels = document.querySelectorAll('.dropdown-content label');
            labels.forEach(label => {
                label.style.display = 'none';
                const radio = label.querySelector('input[type="radio"]');
                if (radio) {
                    radio.checked = false;
                }
            });

            const dropdownContents = document.querySelectorAll('.dropdown-content');
            dropdownContents.forEach(content => {
                content.classList.remove('show');
                const dropdownHeader = content.previousElementSibling;
                if (dropdownHeader) {
                    const arrowIcon = dropdownHeader.querySelector('i');
                    if (arrowIcon) {
                        arrowIcon.style.transform = 'rotate(0deg)';
                    }
                }
            });
        }

        function mostrarDescarteConcluidoModal() {
            const modal = document.getElementById('descarteConcluidoModal');
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.style.display = 'none';
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const statusSection = document.querySelector('.status-section');
            if (statusSection) {
                statusSection.addEventListener('click', mostrarDescarteConcluidoModal);
            }
        });
    </script>

    <script src="../wwwroot/js/toast.js"></script>
    <script src="../wwwroot/js/auth.js"></script>
    <script>
        checkAuthentication('instituicao');
    </script>
</body>

</html>